webpackJsonp([5],{197:function(t,e,n){"use strict";function i(t){l||n(238)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(218),a=n.n(s);for(var o in s)"default"!==o&&function(t){n.d(e,t,function(){return s[t]})}(o);var c=n(240),l=!1,r=n(5),d=i,u=r(a.a,c.a,!1,d,"data-v-35cba95c",null);u.options.__file="src\\components\\shopcart\\shopcart.vue",e.default=u.exports},206:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={apihost:"http://vue.studyit.io/"}},218:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(206),s=function(t){return t&&t.__esModule?t:{default:t}}(i),a=n(7);e.default={data:function(){return{goodsList:[],totalCount:0,totalPrice:0}},created:function(){this.getGoodsListData()},methods:{getGoodsListData:function(){var t=this,e=this.$store.getters.getGoodsList;if(!(e.length<=0)){for(var n={},i=0;i<e.length;i++){var a=e[i];n[a.goodsId]?n[a.goodsId]+=a.count:n[a.goodsId]=a.count}var o=[];for(var c in n)o.push(c);var l=o.join(","),r=s.default.apihost+"api/goods/getshopcarlist/"+l;this.$http.get(r).then(function(e){e.body.message.forEach(function(t){t.count=n[t.id],t.isSelect=!0}),t.goodsList=e.body.message,t.statisticsTotalCountAndTotalPrice()}).catch(function(t){})}},statisticsTotalCountAndTotalPrice:function(){var t=0,e=0;this.goodsList.forEach(function(n){n.isSelect&&(t+=n.count,e+=n.sell_price*n.count)}),this.totalCount=t,this.totalPrice=e},deleteGoods:function(t){var e=this;a.MessageBox.confirm("确定删除吗?").then(function(n){var i=e.goodsList[t].id;e.$store.commit("deleteGoodsById",i),e.goodsList.splice(t,1),e.statisticsTotalCountAndTotalPrice()},function(t){})}}}},238:function(t,e,n){var i=n(239);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(6)("6d759af5",i,!1)},239:function(t,e,n){e=t.exports=n(3)(void 0),e.push([t.i,"\n.goodsItemStyle[data-v-35cba95c] {\n    display: flex;\n    align-items: center;\n    height: 100px;\n    border-bottom: 1px solid rgba(92, 92, 92, 0.3);\n}\n.switchStyle[data-v-35cba95c] {\n    margin-left: 5px;\n}\n.thumbImageStyle[data-v-35cba95c] {\n    max-width: 70px;\n    height: 70px;\n    border: 1px solid rgba(92, 92, 92, 0.3);\n    padding: 3px;\n    border-radius: 5px;\n    margin-left: 5px;\n}\n.thumbImageStyle img[data-v-35cba95c] {\n    width: 100%;\n    height: 100%;\n}\n.deleteButtonStyle[data-v-35cba95c] {\n    margin-right: 5px;\n}\n.titleAndPriceStyle[data-v-35cba95c] {\n    margin-left: 5px;\n    flex: 1;\n}\n.titleAndPriceStyle p[data-v-35cba95c]:first-child {\n    color: #0094ff;\n    font-size: 14px;\n}\n.titleAndPriceStyle p:last-child span[data-v-35cba95c]:first-child {\n    font-size: 16px;\n    color: red;\n}\n.statisticsStyle[data-v-35cba95c] {\n    height: 100px;\n    display: flex;\n    background-color: rgba(92, 92, 92, 0.3);\n    justify-content: space-between;\n    align-items: center;\n}\n.statisticsStyle div[data-v-35cba95c]:first-child {\n    margin-left: 5px;\n}\n.statisticsStyle div:first-child span[data-v-35cba95c] {\n    color: red;\n    font-size: 18px;\n}\n.goToPayStyle[data-v-35cba95c] {\n    margin-right: 5px;\n}\n",""])},240:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._l(t.goodsList,function(e,i){return n("div",{key:e.id,staticClass:"goodsItemStyle"},[n("mt-switch",{staticClass:"switchStyle",on:{change:t.statisticsTotalCountAndTotalPrice},model:{value:e.isSelect,callback:function(n){t.$set(e,"isSelect",n)},expression:"item.isSelect"}}),t._v(" "),n("div",{staticClass:"thumbImageStyle"},[n("img",{attrs:{src:e.thumb_path,alt:""}})]),t._v(" "),n("div",{staticClass:"titleAndPriceStyle"},[n("p",[t._v(t._s(e.title))]),t._v(" "),n("p",[n("span",[t._v(t._s(e.sell_price))]),t._v(" \n                "),n("span",[t._v("商品数量"+t._s(e.count))])])]),t._v(" "),n("mt-button",{staticClass:"deleteButtonStyle",attrs:{disabled:!e.isSelect,size:"small",type:"danger"},on:{click:function(e){t.deleteGoods(i)}}},[t._v("删除")])],1)}),t._v(" "),n("div",{staticClass:"statisticsStyle"},[n("div",[n("h4",[t._v("总计(不含运费)")]),t._v(" "),n("p",[t._v("已经勾选商品\n                "),n("span",[t._v(t._s(t.totalCount))]),t._v(" 件,总价\n                "),n("span",[t._v(t._s(t.totalPrice))]),t._v(" 元")])]),t._v(" "),n("mt-button",{staticClass:"goToPayStyle",attrs:{size:"normal",type:"danger"}},[t._v("去结算")])],1)],2)},s=[];i._withStripped=!0;var a={render:i,staticRenderFns:s};e.a=a}});